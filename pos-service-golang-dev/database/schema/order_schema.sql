CREATE TABLE `order` (
    `id` bigint unsigned NOT NULL AUTO_INCREMENT,
    `shop_id` int NOT NULL,
    `platform_id` int NOT NULL,
    `remote_order_id` varchar(191) COLLATE utf8mb4_unicode_ci NOT NULL,
    `display_order_id` varchar(191) COLLATE utf8mb4_unicode_ci NOT NULL,
    `delivery_date_time` datetime NOT NULL,
    `total_amount` int NOT NULL DEFAULT '0',
    `sub_total` int NOT NULL DEFAULT '0',
    `total_fee` int DEFAULT NULL,
    `campaign_code` varchar(191) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
    `discount` int NOT NULL DEFAULT '0',
    `discount_type` varchar(191) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
    `vouchers` text COLLATE utf8mb4_unicode_ci,
    `status` varchar(191) COLLATE utf8mb4_unicode_ci NOT NULL,
    `cancelled_reason` text COLLATE utf8mb4_unicode_ci DEFAULT NULL,
    `order_type_id` int NOT NULL, -- 4
    `note` text COLLATE utf8mb4_unicode_ci,
    `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
    `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
    `customer_id` int NOT NULL,
    `customer_name` varchar(191) COLLATE utf8mb4_unicode_ci NOT NULL,
    `user_id` int NOT NULL,
    `delivery_location_id` int DEFAULT NULL,
    `shipping_method` varchar(191) COLLATE utf8mb4_unicode_ci NOT NULL,
    `shipping_total` decimal(8, 2) DEFAULT '0.00',
    `shipping_tax` decimal(8, 2) DEFAULT '0.00',
    `total_tax` decimal(8, 2) DEFAULT '0.00',
    `cash_due` decimal(8, 2) NOT NULL DEFAULT '0.00',
    `surcharge` decimal(8, 2) NOT NULL DEFAULT '0.00',
    `contact_access_code` varchar(191) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
    `testing_order` tinyint(1) NOT NULL DEFAULT '0',
    `cancelled_by_customer` tinyint(1) NOT NULL DEFAULT '0',
    `payment_method` varchar(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
    `is_scheduled` tinyint(1) NOT NULL DEFAULT '0',
    `is_table_order` tinyint(1) NOT NULL DEFAULT '0',
    `tip` decimal(8, 2) NOT NULL DEFAULT '0.00',
    `tip_percentage` decimal(8, 2) NOT NULL DEFAULT '0.00',
    `table_id` varchar(191) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
    `table_order_method_id` int DEFAULT NULL,
    `device_platform` varchar(191) COLLATE utf8mb4_unicode_ci NOT NULL, -- dg_pos
    `order_delayed` tinyint(1) NOT NULL DEFAULT '0',
    `unique_order_id` varchar(191) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE KEY `order_remote_order_id_unique` (`remote_order_id`)
) ENGINE = InnoDB AUTO_INCREMENT = 17891 DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_unicode_ci